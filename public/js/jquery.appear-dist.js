!function(e){e.fn.appear=function(t,a){var r=e.extend({data:void 0,one:!0,accX:0,accY:0},a);return this.each(function(){var a=e(this);if(a.appeared=!1,!t)return void a.trigger("appear",r.data);var i=e(window),n=function(){if(!a.is(":visible"))return void(a.appeared=!1);var e=i.scrollLeft(),t=i.scrollTop(),n=a.offset(),o=n.left,p=n.top,d=r.accX,s=r.accY,c=a.height(),h=i.height(),f=a.width(),l=i.width();p+c+s>=t&&t+h+s>=p&&o+f+d>=e&&e+l+d>=o?a.appeared||a.trigger("appear",r.data):a.appeared=!1},o=function(){if(a.appeared=!0,r.one){i.unbind("scroll",n);var o=e.inArray(n,e.fn.appear.checks);o>=0&&e.fn.appear.checks.splice(o,1)}t.apply(this,arguments)};r.one?a.one("appear",r.data,o):a.bind("appear",r.data,o),i.scroll(n),e.fn.appear.checks.push(n),n()})},e.extend(e.fn.appear,{checks:[],timeout:null,checkAll:function(){var t=e.fn.appear.checks.length;if(t>0)for(;t--;)e.fn.appear.checks[t]()},run:function(){e.fn.appear.timeout&&clearTimeout(e.fn.appear.timeout),e.fn.appear.timeout=setTimeout(e.fn.appear.checkAll,20)}}),e.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,a){var r=e.fn[a];r&&(e.fn[a]=function(){var t=r.apply(this,arguments);return e.fn.appear.run(),t})})}(jQuery);
