!function(e){function t(e,t){return e.toFixed(t.decimals)}e.fn.countTo=function(t){return t=t||{},e(this).each(function(){function a(){p+=o,d++,r(p),"function"==typeof i.onUpdate&&i.onUpdate.call(s,p),d>=n&&(c.removeData("countTo"),clearInterval(l.interval),p=i.to,"function"==typeof i.onComplete&&i.onComplete.call(s,p))}function r(e){var t=i.formatter.call(s,e,i);c.html(t)}var i=e.extend({},e.fn.countTo.defaults,{from:e(this).data("from"),to:e(this).data("to"),speed:e(this).data("speed"),refreshInterval:e(this).data("refresh-interval"),decimals:e(this).data("decimals")},t),n=Math.ceil(i.speed/i.refreshInterval),o=(i.to-i.from)/n,s=this,c=e(this),d=0,p=i.from,l=c.data("countTo")||{};c.data("countTo",l),l.interval&&clearInterval(l.interval),l.interval=setInterval(a,i.refreshInterval),r(p)})},e.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null}}(jQuery);
